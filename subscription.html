<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>订阅中心 - 绿邮件</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-green': '#3A7D54',
                    },
                    maxWidth: {
                        '414': '414px',
                    }
                }
            }
        }
    </script>
</head>
<body id="subscription-page-identifier" class="bg-white max-w-414 mx-auto font-sans pb-28">

    <header class="p-4 bg-gray-50 border-b sticky top-0 z-30">
        <h1 class="text-xl font-bold text-brand-green text-center">订阅中心</h1>
    </header>

    <!-- Subscription Mode Tabs -->
    <section class="p-4 sticky top-[65px] bg-white z-20">
        <div class="flex justify-around mb-4 bg-gray-100 rounded-lg p-1">
            <button onclick="showSubscriptionContent('blind-box')" class="flex-1 py-2 px-3 text-sm font-semibold rounded-md bg-brand-green text-white transition-colors">盲盒订阅</button>
            <button onclick="showSubscriptionContent('preference')" class="flex-1 py-2 px-3 text-sm font-semibold rounded-md bg-gray-200 text-gray-700 transition-colors">偏好订阅</button>
            <button onclick="showSubscriptionContent('custom')" class="flex-1 py-2 px-3 text-sm font-semibold rounded-md bg-gray-200 text-gray-700 transition-colors">自定义订阅</button>
        </div>
    </section>

    <!-- Content Area -->
    <main class="p-4">
        <!-- Blind Box Subscription Content -->
        <div id="blind-box-content">
            <h3 class="text-lg font-semibold text-brand-green mb-3">盲盒订阅</h3>
            <p class="text-sm text-gray-600 mb-4">根据不同茶叶制作的时间，和不同季节喝茶的习惯为您邮寄首选的茶叶。</p>
            <div class="space-y-4">
                <div class="border rounded-lg p-4 shadow">
                    <h4 class="font-bold text-md text-gray-800 mb-1">春季茶韵盒</h4>
                    <p class="text-xs text-gray-500 mb-2">包含：龙井、碧螺春、毛峰等春季鲜茶</p>
                    <label class="flex items-center space-x-2 cursor-pointer">
                        <input type="radio" name="season_blind_box" value="spring" class="form-radio text-brand-green focus:ring-brand-green">
                        <span class="text-sm text-gray-700">选择春季盒</span>
                    </label>
                </div>
                <div class="border rounded-lg p-4 shadow">
                    <h4 class="font-bold text-md text-gray-800 mb-1">夏季茶凉盒</h4>
                    <p class="text-xs text-gray-500 mb-2">包含：白茶、绿茶、乌龙茶等夏季清爽茶</p>
                    <label class="flex items-center space-x-2 cursor-pointer">
                        <input type="radio" name="season_blind_box" value="summer" class="form-radio text-brand-green focus:ring-brand-green">
                        <span class="text-sm text-gray-700">选择夏季盒</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Preference Subscription Content -->
        <div id="preference-content" class="hidden">
            <h3 class="text-lg font-semibold text-brand-green mb-3">偏好订阅</h3>
            <p class="text-sm text-gray-600 mb-4">您可以选出您首选的茶叶品类，<i class="fas fa-times-circle text-red-500"></i>掉您不喜欢的品类。</p>
            <div class="space-y-3">
                <div class="flex justify-between items-center p-3 border rounded-lg bg-white shadow-sm">
                    <span class="text-gray-700">绿茶</span>
                    <div class="flex space-x-3 tea-pref-toggle cursor-pointer" data-tea="green_tea" data-state="none">
                        <i class="fas fa-heart text-gray-300 hover:text-red-400 text-xl"></i>
                        <i class="fas fa-ban text-gray-300 hover:text-red-400 text-xl"></i>
                    </div>
                </div>
                <div class="flex justify-between items-center p-3 border rounded-lg bg-white shadow-sm">
                    <span class="text-gray-700">红茶</span>
                    <div class="flex space-x-3 tea-pref-toggle cursor-pointer" data-tea="black_tea" data-state="none">
                        <i class="fas fa-heart text-gray-300 hover:text-red-400 text-xl"></i>
                        <i class="fas fa-ban text-gray-300 hover:text-red-400 text-xl"></i>
                    </div>
                </div>
                <div class="flex justify-between items-center p-3 border rounded-lg bg-white shadow-sm">
                    <span class="text-gray-700">乌龙茶</span>
                    <div class="flex space-x-3 tea-pref-toggle cursor-pointer" data-tea="oolong_tea" data-state="none">
                        <i class="fas fa-heart text-gray-300 hover:text-red-400 text-xl"></i>
                        <i class="fas fa-ban text-gray-300 hover:text-red-400 text-xl"></i>
                    </div>
                </div>
                <div class="flex justify-between items-center p-3 border rounded-lg bg-white shadow-sm">
                    <span class="text-gray-700">白茶</span>
                    <div class="flex space-x-3 tea-pref-toggle cursor-pointer" data-tea="white_tea" data-state="none">
                        <i class="fas fa-heart text-gray-300 hover:text-red-400 text-xl"></i>
                        <i class="fas fa-ban text-gray-300 hover:text-red-400 text-xl"></i>
                    </div>
                </div>
                 <div class="flex justify-between items-center p-3 border rounded-lg bg-white shadow-sm">
                    <span class="text-gray-700">普洱茶</span>
                    <div class="flex space-x-3 tea-pref-toggle cursor-pointer" data-tea="puerh_tea" data-state="none">
                        <i class="fas fa-heart text-gray-300 hover:text-red-400 text-xl"></i>
                        <i class="fas fa-ban text-gray-300 hover:text-red-400 text-xl"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Custom Subscription Content -->
        <div id="custom-content" class="hidden">
            <h3 class="text-lg font-semibold text-brand-green mb-3">自定义订阅</h3>
            <p class="text-sm text-gray-600 mb-4">您可以选择所有需要的茶叶放进邮筒里（排列不分先后）。</p>
            <!-- <div class="mb-4">
                <input type="text" id="custom-tea-search" placeholder="搜索茶叶品种..." class="w-full p-2 border rounded-md focus:ring-brand-green focus:border-brand-green">
            </div> -->
            <div id="available-teas" class="grid grid-cols-2 sm:grid-cols-3 gap-3 mb-6">
                <!-- Sample available teas, more can be added or dynamically loaded -->
                <button data-tea-name="西湖龙井" class="custom-tea-option p-3 border rounded-lg text-sm text-gray-700 hover:bg-green-50 hover:border-brand-green transition-colors flex justify-between items-center">
                    西湖龙井 <i class="fas fa-plus-circle text-gray-400"></i>
                </button>
                <button data-tea-name="祁门红茶" class="custom-tea-option p-3 border rounded-lg text-sm text-gray-700 hover:bg-green-50 hover:border-brand-green transition-colors flex justify-between items-center">
                    祁门红茶 <i class="fas fa-plus-circle text-gray-400"></i>
                </button>
                <button data-tea-name="福鼎白茶" class="custom-tea-option p-3 border rounded-lg text-sm text-gray-700 hover:bg-green-50 hover:border-brand-green transition-colors flex justify-between items-center">
                    福鼎白茶 <i class="fas fa-plus-circle text-gray-400"></i>
                </button>
                <button data-tea-name="径山茶" class="custom-tea-option p-3 border rounded-lg text-sm text-gray-700 hover:bg-green-50 hover:border-brand-green transition-colors flex justify-between items-center">
                    径山茶 <i class="fas fa-plus-circle text-gray-400"></i>
                </button>
                <button data-tea-name="漳平水仙" class="custom-tea-option p-3 border rounded-lg text-sm text-gray-700 hover:bg-green-50 hover:border-brand-green transition-colors flex justify-between items-center">
                    漳平水仙 <i class="fas fa-plus-circle text-gray-400"></i>
                </button>
                <button data-tea-name="舒城小兰花" class="custom-tea-option p-3 border rounded-lg text-sm text-gray-700 hover:bg-green-50 hover:border-brand-green transition-colors flex justify-between items-center">
                    舒城小兰花 <i class="fas fa-plus-circle text-gray-400"></i>
                </button>
                 <button data-tea-name="武夷岩茶" class="custom-tea-option p-3 border rounded-lg text-sm text-gray-700 hover:bg-green-50 hover:border-brand-green transition-colors flex justify-between items-center">
                    武夷岩茶 <i class="fas fa-plus-circle text-gray-400"></i>
                </button>
                <button data-tea-name="安溪铁观音" class="custom-tea-option p-3 border rounded-lg text-sm text-gray-700 hover:bg-green-50 hover:border-brand-green transition-colors flex justify-between items-center">
                    安溪铁观音 <i class="fas fa-plus-circle text-gray-400"></i>
                </button>
            </div>

            <h4 class="text-md font-semibold text-brand-green mb-2 hidden">我的邮筒 (<span id="selected-tea-count">0</span>/5)</h4>
            <div id="selected-teas-mailbox" class="hidden min-h-[80px] bg-gray-50 border-dashed border-2 border-gray-300 rounded-lg p-3 space-y-2">
                
                <p id="mailbox-placeholder" class="text-sm text-gray-400 text-center py-4">点击上方茶叶添加到邮筒</p>
            </div>
        </div> 

        <!-- Price Tiers -->
        <section class="mt-8 pt-6 border-t">
            <h3 class="text-lg font-semibold text-brand-green mb-4">选择订阅周期和价格</h3>
            <div class="grid grid-cols-2 gap-4">
                <label class="border rounded-lg p-3 shadow hover:shadow-md cursor-pointer transition-shadow bg-white">
                    <input type="radio" name="subscription_tier" value="monthly" class="form-radio text-brand-green focus:ring-brand-green mr-2">
                    <span class="font-semibold text-gray-800">月度订阅</span>
                    <p class="text-sm text-gray-600">¥99 / 月</p>
                </label>
                <label class="border rounded-lg p-3 shadow hover:shadow-md cursor-pointer transition-shadow bg-white">
                    <input type="radio" name="subscription_tier" value="quarterly" class="form-radio text-brand-green focus:ring-brand-green mr-2">
                    <span class="font-semibold text-gray-800">季度订阅</span>
                    <p class="text-sm text-gray-600">¥269 / 季 (省10%)</p>
                </label>
                <label class="border rounded-lg p-3 shadow hover:shadow-md cursor-pointer transition-shadow bg-white">
                    <input type="radio" name="subscription_tier" value="half_yearly" class="form-radio text-brand-green focus:ring-brand-green mr-2">
                    <span class="font-semibold text-gray-800">半年订阅</span>
                    <p class="text-sm text-gray-600">¥499 / 半年 (省15%)</p>
                </label>
                <label class="border rounded-lg p-3 shadow hover:shadow-md cursor-pointer transition-shadow bg-white">
                    <input type="radio" name="subscription_tier" value="yearly" class="form-radio text-brand-green focus:ring-brand-green mr-2">
                    <span class="font-semibold text-gray-800">年度订阅</span>
                    <p class="text-sm text-gray-600">¥899 / 年 (省25%)</p>
                </label>
            </div>
        </section>
    </main>

    <!-- Bottom Action Buttons -->
    <footer class="fixed bottom-16 left-0 right-0 bg-white border-t p-4 flex gap-4 max-w-414 mx-auto z-30">
        <!-- <button class="flex-1 bg-gray-200 hover:bg-gray-300 text-brand-green font-semibold py-3 px-4 rounded-lg transition-colors">
            加入购物袋
        </button> -->
        <button class="flex-1 bg-brand-green hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors">
            立即购买
        </button>
    </footer>

    <!-- Bottom Navigation Bar -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around items-center h-16 max-w-414 mx-auto z-40">
        <a href="index.html" class="text-center text-gray-500 hover:text-brand-green flex flex-col items-center flex-1 py-2">
            <i class="fas fa-home text-xl"></i>
            <span class="text-xs mt-1">首页</span>
        </a>
        <a href="subscription.html" class="text-center text-brand-green flex flex-col items-center flex-1 py-2">
            <i class="fas fa-calendar-alt text-xl"></i>
            <span class="text-xs mt-1">订阅</span>
        </a>
        <!-- <a href="cart.html" class="text-center text-gray-500 hover:text-brand-green flex flex-col items-center flex-1 py-2">
            <i class="fas fa-shopping-bag text-xl"></i>
            <span class="text-xs mt-1">购物袋</span>
        </a> -->
        <a href="profile.html" class="text-center text-gray-500 hover:text-brand-green flex flex-col items-center flex-1 py-2">
            <i class="fas fa-user text-xl"></i>
            <span class="text-xs mt-1">我的</span>
        </a>
    </nav>

    <script src="assets/js/script.js"></script>
</body>
</html>
